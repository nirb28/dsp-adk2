name: rag_retrieve
description: Retrieve chunks from the DSP AI RAG2 /retrieve endpoint.
type: function
module_path: app.tools.rag_tools
function_name: rag_retrieve
parameters:
  - name: query
    type: string
    description: The user query to retrieve documents for.
    required: true
  - name: configuration_name
    type: string
    description: Primary configuration name (ignored when configuration_names set).
    required: false
    default: default
  - name: configuration_names
    type: array
    description: Optional list of configurations to search with fusion.
    required: false
  - name: k
    type: number
    description: Number of documents to retrieve.
    required: false
    default: 5
  - name: similarity_threshold
    type: number
    description: Optional minimum similarity score.
    required: false
  - name: include_metadata
    type: boolean
    description: Include metadata for returned documents.
    required: false
    default: true
  - name: use_reranking
    type: boolean
    description: Enable reranking using configured reranker.
    required: false
    default: false
  - name: include_vectors
    type: boolean
    description: Include embedding vectors in results.
    required: false
    default: false
  - name: config
    type: object
    description: Optional config override for retrieval settings.
    required: false
  - name: fusion_method
    type: string
    description: Fusion method for multi-config retrieval (rrf or simple).
    required: false
    default: rrf
  - name: rrf_k_constant
    type: number
    description: RRF constant value.
    required: false
    default: 60
  - name: filter_after_reranking
    type: boolean
    description: Apply score threshold after reranking.
    required: false
    default: true
  - name: query_expansion
    type: object
    description: Optional query expansion configuration.
    required: false
  - name: filter
    type: object
    description: LangChain-style metadata filter.
    required: false
  - name: debug
    type: boolean
    description: Enable debug logging on the RAG server.
    required: false
    default: false
  - name: authorization
    type: string
    description: Optional Authorization header value.
    required: false
  - name: base_url
    type: string
    description: Override RAG base URL (defaults to DSP_AI_RAG2_BASE_URL).
    required: false
metadata:
  category: rag
  version: "1.0"
